

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ZMQ Proxy &mdash; PDFstream 0.4.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-rendered-html.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="XPD Server" href="xpd_server.html" />
    <link rel="prev" title="Beamline Scientists Documents" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PDFstream
          

          
          </a>

          
            
            
              <div class="version">
                0.4.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials0/index.html">Users Documents</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Beamline Scientists Documents</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ZMQ Proxy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#start-the-proxy">Start the proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-proxy-in-background">Run the proxy in background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xpd_server.html">XPD Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials2/index.html">Advanced Users Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">PDFstream Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../min_versions.html">Minimum Version of Python and NumPy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PDFstream</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Beamline Scientists Documents</a> &raquo;</li>
        
      <li>ZMQ Proxy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials1/zmq_proxy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zmq-proxy">
<h1>ZMQ Proxy<a class="headerlink" href="#zmq-proxy" title="Permalink to this headline">¶</a></h1>
<p>The proxy works like a bridge between your data acquisition program and the server.
It receives the data from the data acquisition and send it to the server.</p>
<div class="section" id="start-the-proxy">
<h2>Start the proxy<a class="headerlink" href="#start-the-proxy" title="Permalink to this headline">¶</a></h2>
<p>Before you start the server, you need to start the proxy first. The proxy is a server that transfers the message
from the bluesky RunEngine to the server. Without proxy, the server cannot receive any data from the experiments.</p>
<p>To start a proxy, in terminal, run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bluesky</span><span class="o">-</span><span class="mi">0</span><span class="n">MQ</span><span class="o">-</span><span class="n">proxy</span> <span class="mi">5567</span> <span class="mi">5568</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">5567</span></code> is the port where the proxy receives the message and the <code class="docutils literal notranslate"><span class="pre">5568</span></code> is the port where the proxy sends
the message to. You can change the values according to the machine you are using.</p>
<p>Please remember the two ports because they are needed when you set up the server. Please also remember the
address of the machine where you run the proxy if you are running server on a different machine.</p>
<p>If you would like to terminate the proxy, press <code class="docutils literal notranslate"><span class="pre">CTRL</span> <span class="pre">+</span> <span class="pre">C</span></code> in the terminal.</p>
</div>
<div class="section" id="run-the-proxy-in-background">
<h2>Run the proxy in background<a class="headerlink" href="#run-the-proxy-in-background" title="Permalink to this headline">¶</a></h2>
<p>If you are tired of running the command very time, you can run the proxy in background and detach it with the
terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nohup</span> <span class="n">bluesky</span><span class="o">-</span><span class="mi">0</span><span class="n">MQ</span><span class="o">-</span><span class="n">proxy</span> <span class="mi">5567</span> <span class="mi">5568</span> <span class="o">&amp;</span>
</pre></div>
</div>
<p>You will find some text showing up, press <code class="docutils literal notranslate"><span class="pre">CTRL</span> <span class="pre">+</span> <span class="pre">C</span></code> to end it. It won’t terminate the proxy. Then, close the
terminal and the proxy will keep running in the background.</p>
<p>To terminate this proxy, in terminal, run command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">job</span> <span class="n">ID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;job</span> <span class="pre">ID&gt;</span></code> is a number that shows up after you run the command <code class="docutils literal notranslate"><span class="pre">nohup</span> <span class="pre">bluesky-0MQ-proxy</span> <span class="pre">5567</span> <span class="pre">5568</span> <span class="pre">&amp;</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xpd_server.html" class="btn btn-neutral float-right" title="XPD Server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Beamline Scientists Documents" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Songsheng Tao

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>