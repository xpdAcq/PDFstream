<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Average &mdash; PDFstream 0.6.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integration" href="integration.html" />
    <link rel="prev" title="Calibration" href="calibration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> PDFstream
          </a>
              <div class="version">
                0.6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Users Documents</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="calibration.html">Calibration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Average</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-simple-average">A simple average</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-weights">Add weights</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="integration.html">Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformation.html">Transformation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials1/index.html">Beamline Scientists Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">PDFstream Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../min_versions.html">Minimum Version of Python and NumPy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PDFstream</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Users Documents</a> &raquo;</li>
      <li>Average</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorials0/average.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="average">
<h1>Average<a class="headerlink" href="#average" title="Permalink to this heading">¶</a></h1>
<p>When we have a series of diffraction images for one sample and we would like to calculate the average of them
to minimize the fluctuation in the intensity, we can use the average tool in <cite>pdfstream</cite>.</p>
<section id="a-simple-average">
<h2>A simple average<a class="headerlink" href="#a-simple-average" title="Permalink to this heading">¶</a></h2>
<p>For example, we have “image1.tiff”, “image2.tiff”, “image3.tiff” and we would like to calculate the average of
them and save the results in the file “averaged_image.tiff”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pdfstream.cli</span> <span class="kn">import</span> <span class="n">average</span>

<span class="n">average</span><span class="p">(</span>
    <span class="s2">&quot;averaged_image.tiff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image1.tiff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image2.tiff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image3.tiff&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>We can also do it in command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pdfstream</span> <span class="n">average</span> <span class="n">averaged_image</span><span class="o">.</span><span class="n">tiff</span> <span class="n">image1</span><span class="o">.</span><span class="n">tiff</span> <span class="n">image2</span><span class="o">.</span><span class="n">tiff</span> <span class="n">image3</span><span class="o">.</span><span class="n">tiff</span>
</pre></div>
</div>
</section>
<section id="add-weights">
<h2>Add weights<a class="headerlink" href="#add-weights" title="Permalink to this heading">¶</a></h2>
<p>If we would like to calculated a weighted average, we can use the key <code class="docutils literal notranslate"><span class="pre">weights</span></code>
For example, “image1.tiff”, “image2.tiff”, “image3.tiff” have weights 0.6, 0.2, 0.2.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">average</span><span class="p">(</span>
    <span class="s2">&quot;averaged_image.tiff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image1.tiff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image2.tiff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image3.tiff&quot;</span><span class="p">,</span>
    <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>We can also do it in command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pdfstream</span> <span class="n">average</span> <span class="n">averaged_image</span><span class="o">.</span><span class="n">tiff</span> <span class="n">image1</span><span class="o">.</span><span class="n">tiff</span> <span class="n">image2</span><span class="o">.</span><span class="n">tiff</span> <span class="n">image3</span><span class="o">.</span><span class="n">tiff</span> <span class="o">--</span><span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calibration.html" class="btn btn-neutral float-left" title="Calibration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="integration.html" class="btn btn-neutral float-right" title="Integration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Songsheng Tao.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>